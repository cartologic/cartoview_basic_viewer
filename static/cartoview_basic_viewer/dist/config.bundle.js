!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("config",[],t):"object"==typeof exports?exports.config=t():e.config=t()}(window,function(){return function(e){function t(t){for(var n,o,s=t[0],u=t[1],i=t[2],d=0,f=[];d<s.length;d++)o=s[d],r[o]&&f.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);f.length;)f.shift()();return l.push.apply(l,i||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var u=a[s];0!==r[u]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={4:0},l=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/cartoview_basic_viewer/dist/";var s=window.webpackJsonp_name_=window.webpackJsonp_name_||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var c=u;return l.push(["TZsX",0,1]),a()}({C1ZV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a("Yz+Y")),r=p(a("iCc5")),l=p(a("V7oC")),o=p(a("FYw3")),s=p(a("mRg0")),u=p(a("17x9")),i=p(a("q1tI")),c=a("oU8P"),d=p(a("pADC")),f=a("jbVF");function p(e){return e&&e.__esModule?e:{default:e}}var m={fields:{showZoombar:{label:"Zoom Bar"},showLayerSwitcher:{label:"Layer Switcher"},showBaseMapSwitcher:{showBaseMapSwitcher:"Base Map Switcher"},showLegend:{label:"Legend"}}},h=d.default.form.Form,g=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return v.call(a),a.state={value:a.getFormValue(a.props)},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.config,n=t.instanceId;a&&!n&&this.setState({value:this.getFormValue(e)})}},{key:"render",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("h3",null,"Navigation Tools"),i.default.createElement(h,{ref:function(t){return e.form=t},value:this.state.value,type:(0,f.toolFormSchema)(),onChange:this.onChange,options:m}))}}]),t}(i.default.Component),v=function(){var e=this;this.getComponentValue=function(){return e.form.getValue()},this.getFormValue=function(e){var t=e.config;return{enableHistory:(0,c.getPropertyFromConfig)(t,"enableHistory",!0),enableFeatureTable:(0,c.getPropertyFromConfig)(t,"enableFeatureTable",!0),showZoombar:(0,c.getPropertyFromConfig)(t,"showZoombar",!0),showLayerSwitcher:(0,c.getPropertyFromConfig)(t,"showLayerSwitcher",!0),showExportMap:(0,c.getPropertyFromConfig)(t,"showExportMap",!0),showLegend:(0,c.getPropertyFromConfig)(t,"showLegend",!0)}},this.onChange=function(t){e.setState({value:t})}};t.default=g,g.propTypes={config:u.default.object,instanceId:u.default.number}},LVPS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=M(a("gDS+")),r=M(a("QbLZ")),l=M(a("FyfS")),o=M(a("Yz+Y")),s=M(a("iCc5")),u=M(a("V7oC")),i=M(a("FYw3")),c=M(a("mRg0"));a("Ww3z"),a("fFqH");var d=a("Yvh9"),f=M(a("dYU9")),p=M(a("kDIA")),m=M(a("qI+P")),h=M(a("TNyv")),g=M(a("mzgj")),v=M(a("k7EQ")),b=M(a("ZPX0")),y=M(a("17x9")),C=M(a("q1tI")),E=M(a("C1ZV")),w=M(a("YVZI"));function M(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){(0,s.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));S.call(a);var n=a.props.urls;a.configService=new h.default(n.proxy),a.urls=new w.default(n.proxy);var r=a.props.config;return a.state={maps:[],userMaps:!0,selectedMap:r?r.map:null,loading:!1,totalMaps:0,layerAttributes:[],title:r?r.title:null,abstract:r?r.abstract:null,config:r?r.config:null,tags:[],keywords:[],saving:!1,errors:[],profiles:[],instanceId:r?r.id:null,searchEnabled:!1},a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.getMaps(),this.getKeywords(),this.getProfiles()}},{key:"render",value:function(){return C.default.createElement(g.default,{childrenProps:this.getChildrenProps()})}}]),t}(C.default.Component),S=function(){var e=this;this.UserMapsChanged=function(){var t=e.state.userMaps;e.setState({userMaps:!t},e.getMaps)},this.getMaps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;e.setState({loading:!0});var n=e.props,r=n.username,l=n.urls,o=e.state.userMaps,s=e.configService.getMapApiURL(l.MapsAPI,r,o,a,t);(0,d.doGet)(s).then(function(t){e.setState({maps:t.objects,loading:!1,totalMaps:t.meta.total_count})})},this.searchMapById=function(t){var a=e.state.maps,n=null,r=!0,o=!1,s=void 0;try{for(var u,i=(0,l.default)(a);!(r=(u=i.next()).done);r=!0){var c=u.value;if(c.id===t){n=c;break}}}catch(e){o=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw s}}return n},this.handleSearchMode=function(t){e.setState({searchEnabled:t})},this.search=function(t){e.setState({loading:!0,searchEnabled:!0});var a=e.props,n=a.username,r=a.urls,l=e.state.userMaps,o=e.configService.getMapApiSearchURL(r.MapsAPI,n,l,t);(0,d.doGet)(o).then(function(t){e.setState({maps:t.objects,loading:!1})})},this.getAttributes=function(t){e.setState({loading:!0});var a=e.props.urls;if(t){var n=a.layerAttributes;n=e.urls.getParamterizedURL(n,{layer__typename:t}),(0,d.doGet)(n).then(function(t){e.setState({layerAttributes:t.objects,loading:!1})})}},this.getKeywords=function(){e.setState({loading:!0});var t=e.props.urls.keywordsAPI;(0,d.doGet)(t).then(function(t){e.setState({keywords:t.objects,loading:!1})})},this.getProfiles=function(){e.setState({loading:!0});var t=e.props.urls.profilesAPI;(0,d.doGet)(t).then(function(t){e.setState({profiles:t.objects,loading:!1})})},this.getTags=function(){var t=e.props.urls;(0,d.doGet)(t.tagsAPI).then(function(t){e.setState({tags:t})})},this.selectMap=function(t){e.setState({selectedMap:t})},this.setStepRef=function(t,a){e[t]=a},this.getSteps=function(){var t=e.props.urls,a=e.state,n=a.maps,r=a.loading,l=a.selectedMap,o=a.userMaps,s=a.totalMaps,u=a.config,i=a.title,c=a.abstract,d=a.keywords,h=a.instanceId,g=a.searchEnabled,y=a.profiles,C=[{title:"Select Map",component:b.default,ref:"mapStep",hasErrors:!1,props:{maps:n,selectedMap:l,loading:r,selectMap:e.selectMap,getMaps:e.getMaps,userMaps:o,totalMaps:s,UserMapsChanged:e.UserMapsChanged,limit:9,urls:t,search:e.search,handleSearchMode:e.handleSearchMode,searchEnabled:g}},{title:"General",component:p.default,ref:"generalStep",hasErrors:!1,props:{abstract:c,title:i,selectedMap:l,config:u,allKeywords:d,instanceId:h}},{title:"Acccess Configuration",component:f.default,ref:"accessConfigurationStep",hasErrors:!1,props:{loading:r,config:u,profiles:y}},{title:"Bookmarks",component:m.default,ref:"bookmarksStep",hasErrors:!1,props:{config:u,instanceId:h}},{title:"GeoCoding",component:v.default,ref:"geocodingStep",hasErrors:!1,props:{config:u,instanceId:h}},{title:"Navigation Tools",component:E.default,ref:"toolsStep",hasErrors:!1,props:{config:u,save:e.save,instanceId:h}}];return e.state.errors.map(function(e){return C[e].hasError=!0}),C},this.toArray=function(t){var a=[];return t&&t.forEach(function(e){a.push(e.value)},e),a},this.prepareServerData=function(){var t=e.generalStep.getComponentValue().keywords,a=e.state.selectedMap;return(0,r.default)({map:a.id},e.generalStep.getComponentValue(),{config:(0,r.default)({},e.toolsStep.getComponentValue(),e.bookmarksStep.getComponentValue(),e.geocodingStep.getComponentValue()),access:e.accessConfigurationStep.getComponentValue(),keywords:e.toArray(t)})},this.sendConfiguration=function(){var t=e.props.urls,a=e.state,r=a.instanceId;if(0==a.errors.length){e.setState({saving:!0});var l=r?t.editURL(r):t.newURL,o=(0,n.default)(e.prepareServerData());(0,d.doPost)(l,o,{"Content-Type":"application/json; charset=UTF-8"}).then(function(t){e.setState({instanceId:t.id,saving:!1})})}},this.showComponentsErrors=function(t){var a=[];e.getSteps().map(function(t,n){e[t.ref].getComponentValue()||a.push(n)}),e.setState({errors:a},t)},this.save=function(){e.showComponentsErrors(e.sendConfiguration)},this.validate=function(){e.showComponentsErrors(function(){})},this.getChildrenProps=function(){return(0,r.default)({},e.state,e.props,{steps:e.getSteps(),setStepRef:e.setStepRef,save:e.save,validate:e.validate})}};k.propTypes={urls:y.default.object.isRequired,config:y.default.object,username:y.default.string.isRequired},t.default=k},"PV/U":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAttributesTemplate=t.getKeywordsTemplate=void 0;var n=u(a("QbLZ")),r=a("yG4Z"),l=u(r),o=u(a("q1tI")),s=u(a("OnOE"));function u(e){return e&&e.__esModule?e:{default:e}}var i=0;t.getKeywordsTemplate=function(e){return function(t){return i++,o.default.createElement("div",{style:{paddingTop:5,paddingBottom:5},className:t.hasError?"has-error":""},o.default.createElement("label",{className:"control-label"},t.label),o.default.createElement(r.AsyncCreatable,(0,n.default)({},t,{onChange:t.onChange,inputProps:t.inputProps,loadOptions:e.loadOptions,value:t.value,multi:!0,deleteRemoves:!0,resetValue:null,placeholder:e.message})),e.help&&o.default.createElement("div",null,o.default.createElement("p",{className:"help-block"},o.default.createElement("i",{"data-tip":!0,"data-for":"id-"+i,className:"fa fa-info-circle pull-right","aria-hidden":"true"})),o.default.createElement(s.default,{getContent:function(){return e.help},type:"info",place:"left",effect:"solid",id:"id-"+i})))}},t.getAttributesTemplate=function(e){return function(t){return i++,o.default.createElement("div",{style:{paddingTop:5,paddingBottom:5},className:t.hasError?"has-error":""},o.default.createElement("label",{className:"control-label"},t.label),o.default.createElement(l.default,(0,n.default)({},t,{onChange:t.onChange,inputProps:t.inputProps,options:e.options,value:t.value,multi:!0,required:!1,deleteRemoves:!0,resetValue:null,placeholder:e.message})),e.help&&o.default.createElement("div",null,o.default.createElement("p",{className:"help-block"},o.default.createElement("i",{"data-tip":!0,"data-for":"id-"+i,className:"fa fa-info-circle pull-right","aria-hidden":"true"})),o.default.createElement(s.default,{getContent:function(){return e.help},type:"info",place:"left",effect:"solid",id:"id-"+i})))}}},TZsX:function(e,t,a){"use strict";(function(e){var t=u(a("iCc5")),n=u(a("V7oC")),r=u(a("LVPS")),l=u(a("q1tI")),o=a("3Nxm"),s=a("i8i4");function u(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(a,n,r){(0,t.default)(this,e),this.domId=a,this.urls=r,this.username=n,this.config=null}return(0,n.default)(e,[{key:"loadConfig",value:function(){return fetch(this.urls.appInstance,{method:"GET",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json; charset=UTF-8","X-CSRFToken":(0,o.getCRSFToken)()})}).then(function(e){return e.json()})}},{key:"view",value:function(){var e=this;this.urls.appInstance?this.loadConfig().then(function(t){e.config={config:t.config,title:t.title,abstract:t.abstract,keywords:t.keywords,map:t.map,id:t.id},e.currentlayer=t.config.layer,(0,s.render)(l.default.createElement(r.default,{urls:e.urls,config:e.config,username:e.username}),document.getElementById(e.domId))}):(0,s.render)(l.default.createElement(r.default,{urls:this.urls,config:this.config,username:this.username}),document.getElementById(this.domId))}}]),e}();e.Viewer=i}).call(this,a("yLpj"))},Ww3z:function(e,t){},ZPX0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var n=p(a("Yz+Y")),r=p(a("iCc5")),l=p(a("V7oC")),o=p(a("FYw3")),s=p(a("mRg0"));a("NuNp");var u=a("rmQC"),i=p(a("17x9")),c=p(a("q1tI")),d=p(a("werx")),f=p(a("1z8J"));p(a("Tn8l"));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return c.default.createElement("form",{className:"my-resources-radio"},c.default.createElement("div",{className:"radio margin-right-left-20"},c.default.createElement("label",null,"My Maps"),c.default.createElement("input",{className:"margin-left-10",type:"radio",value:"myResources",checked:"myResources"===e.selectedOption,onChange:e.onChange})),c.default.createElement("div",{className:"radio margin-right-left-20 all-maps-radio"},c.default.createElement("input",{type:"radio",value:"allResources",checked:"allResources"===e.selectedOption,onChange:e.onChange}),c.default.createElement("label",null,"All Maps")))};m.propTypes={onChange:i.default.func.isRequired,selectedOption:i.default.string.isRequired};var h=function(e){var t=e.UserMapsChanged,a=e.userMaps;return c.default.createElement(m,{selectedOption:a?"myResources":"allResources",onChange:t})};h.propTypes={UserMapsChanged:i.default.func.isRequired,userMaps:i.default.bool.isRequired};var g=t.Loader=function(e){return c.default.createElement("div",{className:"row row-fix"},c.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-md-offset-3 text-center"},c.default.createElement(f.default,{name:"line-scale-pulse-out",color:"steelblue"})))},v=function(e){var t=e.searchByTitle;return c.default.createElement("div",{className:"input-group"},c.default.createElement("span",{className:"input-group-addon",id:"search-box"},c.default.createElement("i",{className:"fa fa-search","aria-hidden":"true"})),c.default.createElement("input",{onChange:t,type:"text",className:"form-control",placeholder:"Search by title","aria-describedby":"search-box"}))};v.propTypes={searchByTitle:i.default.func.isRequired};var b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.getComponentValue=function(){return"It's OK"},a.handlePageClick=function(e){(0,a.props.getMaps)(9*e.selected)},a.searchByTitle=function(e){var t=a.props,n=t.search,r=t.handleSearchMode,l=t.getMaps,o=e.target.value;""!==o?n(o):(r(!1),l())},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props,n=a.userMaps,r=a.maps,l=a.selectedMap;return e.userMaps!==n||e.maps!==r||l!==e.selectedMap}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.selectedMap,n=e.selectMap,r=e.maps,l=e.userMaps,o=e.totalMaps,s=e.UserMapsChanged,i=e.limit,f=e.urls,p=e.searchEnabled;return c.default.createElement("div",{className:"flex-row"},c.default.createElement("div",{className:"row row-fix"},c.default.createElement(v,{searchByTitle:this.searchByTitle})),c.default.createElement("div",{className:"row row-fix"},c.default.createElement(h,{UserMapsChanged:s,userMaps:l})),t&&c.default.createElement(g,null),!t&&r.map(function(e,t){return c.default.createElement(u.MapCard,{urls:f,key:t,map:e,selectedMap:a,selectMap:n})}),!t&&!p&&0==r.length&&l&&c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-md-offset-3 col-lg-offset-3 text-center"},c.default.createElement("h3",null,"This Application requires a ",c.default.createElement("a",{href:""+f.newMap},"Map")," and a ",c.default.createElement("a",{href:"https://docs.qgis.org/2.8/en/docs/training_manual/create_vector_data/create_new_vector.html"},"Layer"),". you will need to upload layer.Once you have a Layer you can create a Map with this layer"),c.default.createElement("hr",null),c.default.createElement("h3",null,"Alternatively you can work with other Maps and Layers that are shared with you or shared to Public.To view your Shared Maps click the Switcher on the top of page"))),!t&&p&&0==r.length&&c.default.createElement("h3",{className:"text-center"},"No Maps Found"),!p&&c.default.createElement(d.default,{previousLabel:"previous",nextLabel:"next",breakLabel:c.default.createElement("a",{href:"javascript:;"}," ..."),breakClassName:"break-me",pageCount:o/i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination center-div",subContainerClassName:"pages pagination",activeClassName:"active"}))}}]),t}(c.default.Component);t.default=b,b.propTypes={maps:i.default.array,selectedMap:i.default.object,urls:i.default.object.isRequired,selectMap:i.default.func.isRequired,getMaps:i.default.func.isRequired,search:i.default.func.isRequired,handleSearchMode:i.default.func.isRequired,UserMapsChanged:i.default.func.isRequired,loading:i.default.bool.isRequired,userMaps:i.default.bool.isRequired,searchEnabled:i.default.bool.isRequired,totalMaps:i.default.number.isRequired,limit:i.default.number.isRequired}},dYU9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a("GQeE")),r=h(a("Yz+Y")),l=h(a("iCc5")),o=h(a("V7oC")),s=h(a("FYw3")),u=h(a("mRg0")),i=a("oU8P"),c=h(a("17x9")),d=h(a("q1tI")),f=a("jbVF"),p=a("PV/U"),m=h(a("pADC"));function h(e){return e&&e.__esModule?e:{default:e}}var g=m.default.form.Form,v=function(e){function t(e){(0,l.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return b.call(a),a.state={value:a.getFormValue(a.props)},a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.errors;return e.errors===a}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement("h3",null,"Access Configuration"),d.default.createElement(g,{ref:function(t){return e.form=t},value:this.state.value,type:(0,f.accessFormSchema)(),onChange:this.onChange,options:this.getFormOptions()}))}}]),t}(d.default.Component),b=function(){var e=this;this.flattenedUsers=function(e){return e.map(function(e){return e.value})},this.getFormValueForSaving=function(t){var a={};return(0,n.default)(t).map(function(n){var r=t[n];a[n]=r?e.flattenedUsers(r):null}),a},this.getComponentValue=function(){var t=e.form.getValue();return t&&(t=e.getFormValueForSaving(t)),t},this.onChange=function(t){e.setState({value:t})},this.getFormValue=function(e){var t=e.config,a=(0,i.getPropertyFromConfig)(t?t.access:null,"whoCanView",null),n=(0,i.getPropertyFromConfig)(t?t.access:null,"whoCanChangeMetadata",null),r=(0,i.getPropertyFromConfig)(t?t.access:null,"whoCanDelete",null),l=(0,i.getPropertyFromConfig)(t?t.access:null,"whoCanChangeConfiguration",null);return{whoCanView:a?(0,i.getSelectOptions)(a):a,whoCanChangeMetadata:n?(0,i.getSelectOptions)(n):n,whoCanDelete:r?(0,i.getSelectOptions)(r):r,whoCanChangeConfiguration:l?(0,i.getSelectOptions)(l):l}},this.getFormOptions=function(){var t=e.props.profiles,a=(0,i.getSelectOptions)(t,"username");return{fields:{whoCanView:{factory:m.default.form.Textbox,template:(0,p.getAttributesTemplate)({options:a,message:"Select Users or empty for anyone"})},whoCanChangeMetadata:{factory:m.default.form.Textbox,template:(0,p.getAttributesTemplate)({options:a,message:"Select Users or empty for owner(you) only"})},whoCanDelete:{factory:m.default.form.Textbox,template:(0,p.getAttributesTemplate)({options:a,message:"Select Users or empty for owner(you) only"})},whoCanChangeConfiguration:{factory:m.default.form.Textbox,template:(0,p.getAttributesTemplate)({options:a,message:"Select Users or empty for owner(you) only"})}}}}};t.default=v,v.propTypes={config:c.default.object,loading:c.default.bool.isRequired,profiles:c.default.array.isRequired,errors:c.default.array.isRequired}},jbVF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geocodingFormSchema=t.toolFormSchema=t.bookmarksFormSchema=t.accessFormSchema=t.generalFormSchema=void 0;var n,r=a("pADC"),l=(n=r)&&n.__esModule?n:{default:n};t.generalFormSchema=function(){var e=l.default.struct({value:l.default.String,label:l.default.String});return l.default.struct({title:l.default.String,abstract:l.default.maybe(l.default.String),keywords:l.default.list(e)})},t.accessFormSchema=function(){var e=l.default.struct({value:l.default.String,label:l.default.String});return l.default.struct({whoCanView:l.default.maybe(l.default.list(e)),whoCanChangeMetadata:l.default.maybe(l.default.list(e)),whoCanDelete:l.default.maybe(l.default.list(e)),whoCanChangeConfiguration:l.default.maybe(l.default.list(e))})},t.bookmarksFormSchema=function(){var e=l.default.struct({name:l.default.String,extent:l.default.String});return l.default.struct({bookmarks:l.default.maybe(l.default.list(e))})},t.toolFormSchema=function(){return l.default.struct({enableHistory:l.default.Boolean,enableFeatureTable:l.default.Boolean,showLayerSwitcher:l.default.Boolean,showExportMap:l.default.Boolean,showLegend:l.default.Boolean})},t.geocodingFormSchema=function(){return l.default.struct({boundlessGeoCodingEnabled:l.default.maybe(l.default.Boolean),geocodingKey:l.default.maybe(l.default.String)})}},k7EQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a("Yz+Y")),r=d(a("iCc5")),l=d(a("V7oC")),o=d(a("FYw3")),s=d(a("mRg0")),u=d(a("17x9")),i=d(a("q1tI")),c=a("jbVF");a("oU8P");function d(e){return e&&e.__esModule?e:{default:e}}var f=d(a("pADC")).default.form.Form,p=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return m.call(a),a.state={value:a.getFormValue(a.props)},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.errors;return e.errors===a}},{key:"render",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("h3",null,"Boundless Geocoding"),i.default.createElement(f,{ref:function(t){return e.form=t},value:this.state.value,type:(0,c.geocodingFormSchema)(),onChange:this.onChange}))}}]),t}(i.default.Component),m=function(){var e=this;this.getComponentValue=function(){return e.form.getValue()},this.onChange=function(t){e.setState({value:t})},this.getFormValue=function(e){var t=e.config;return{boundlessGeoCodingEnabled:!!t&&t.boundlessGeoCodingEnabled,geocodingKey:t?t.geocodingKey:null}},this.getFormOptions=function(){return{fields:{boundlessGeoCodingEnabled:{label:"Enable Boundless GeoCoding Service"},geocodingKey:{label:"Key",disabled:!e.state.value.boundlessGeoCodingEnabled}}}}};t.default=p,p.propTypes={config:u.default.object,errors:u.default.array.isRequired,instanceId:u.default.number}},kDIA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a("Yz+Y")),r=m(a("iCc5")),l=m(a("V7oC")),o=m(a("FYw3")),s=m(a("mRg0")),u=m(a("17x9")),i=m(a("q1tI")),c=a("jbVF"),d=a("PV/U"),f=a("oU8P"),p=m(a("pADC"));function m(e){return e&&e.__esModule?e:{default:e}}var h=p.default.form.Form,g=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return v.call(a),a.state={value:a.getFormValue(a.props)},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.errors;return e.errors===a}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.selectedMap,n=t.config,r=t.instanceId;a===e.selectedMap&&!n||r||this.setState({value:this.getFormValue(e)})}},{key:"render",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("h3",null,"General Configuration"),i.default.createElement(h,{ref:function(t){return e.form=t},value:this.state.value,type:(0,c.generalFormSchema)(),onChange:this.onChange,options:this.getFormOptions()}))}}]),t}(i.default.Component),v=function(){var e=this;this.getKeywordsOptions=function(t,a){var n=[];e.props.allKeywords.forEach(function(e){n.push({label:e.name,value:e.name})}),a(null,{options:n,complete:!0})},this.getComponentValue=function(){return e.form.getValue()},this.onChange=function(t){e.setState({value:t})},this.keywordsToOptions=function(e){var t=[];return e.map(function(e){t.push({value:e,label:e})}),t},this.getFormValue=function(t){var a=t.title,n=t.selectedMap,r=t.abstract,l=t.config;return{title:a||(n?n.title:null),abstract:r||(n?n.abstract:null),keywords:e.keywordsToOptions((0,f.getPropertyFromConfig)(l,"keywords",[]))}},this.getFormOptions=function(){return{fields:{title:{label:"App Title"},keywords:{factory:p.default.form.Textbox,template:(0,d.getKeywordsTemplate)({loadOptions:e.getKeywordsOptions,message:"Select or Enter a Keyword"})}}}}};t.default=g,g.propTypes={allKeywords:u.default.array.isRequired,selectedMap:u.default.object,config:u.default.object,title:u.default.string,abstract:u.default.string,errors:u.default.array.isRequired,instanceId:u.default.number}},mzgj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a("Yz+Y")),r=p(a("iCc5")),l=p(a("V7oC")),o=p(a("FYw3")),s=p(a("mRg0")),u=p(a("QbLZ")),i=p(a("w9Vz")),c=p(a("17x9")),d=p(a("q1tI")),f=p(a("TSYQ"));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.save,a=e.selectedMap,n=e.instanceId,r=e.urls,l=e.saving,o=(e.validate,{disabled:!(a&&!l)});return d.default.createElement("div",{className:"action-bar"},d.default.createElement("div",{className:"grow"}),d.default.createElement("div",null,l&&d.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-lg fa-fw"})),d.default.createElement("p",null,d.default.createElement("button",(0,u.default)({onClick:t,className:"btn btn-primary btn-sm pull-right"},o),"Save")),d.default.createElement("p",null,n&&d.default.createElement("a",{href:r.viewURL(n),className:"btn btn-sm btn-primary pull-right"},"View")))};m.propTypes={save:c.default.func.isRequired,validate:c.default.func.isRequired,selectedMap:c.default.object,instanceId:c.default.number,saving:c.default.bool.isRequired,urls:c.default.object.isRequired};var h=function(e){var t=e.childrenProps,a=e.getTabClassName,n=e.checkIfDisabled,r=e.getContentClassName;return d.default.createElement("div",null,d.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-3 col-lg-3"},d.default.createElement("ul",{className:"nav nav-pills nav-stacked cartoview-nav-list"},t.steps.map(function(e,t){var r=n(e);return d.default.createElement("li",{key:t,className:a(t)},d.default.createElement("a",{disabled:r,"data-toggle":r?"":"tab",className:"fill-empty",href:r?"javascript:;":"#component-"+t},d.default.createElement("span",null,e.title),e.hasError&&d.default.createElement("i",{className:"fa fa-exclamation-triangle text-danger pull-right","aria-hidden":"true"})))}))),d.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-9 col-lg-9"},d.default.createElement("div",{className:"tab-content"},t.steps.map(function(e,a){return d.default.createElement("div",{key:a,id:"component-"+a,className:r(a)},d.default.createElement(e.component,(0,u.default)({errors:t.errors,ref:function(a){return t.setStepRef(e.ref,a)},urls:t.urls},e.props)))}))))};h.propTypes={childrenProps:c.default.object.isRequired,getTabClassName:c.default.func.isRequired,checkIfDisabled:c.default.func.isRequired,getContentClassName:c.default.func.isRequired};var g=function(e){var t=e.handleHideModal;return d.default.createElement("div",{className:"flex-element full-width"},d.default.createElement("div",{className:"grow"},d.default.createElement("h1",null,"BasicViewer")),d.default.createElement("div",{className:"text-center"},d.default.createElement("h1",null,d.default.createElement("button",{onClick:t,className:"btn btn-primary"},d.default.createElement("i",{className:"fa fa-question-circle fa-lg","aria-hidden":"true"})))))};g.propTypes={handleHideModal:c.default.func.isRequired};var v=function(e){function t(){var e,a,l,s;(0,r.default)(this,t);for(var u=arguments.length,i=Array(u),c=0;c<u;c++)i[c]=arguments[c];return a=l=(0,o.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(i))),l.state={showModal:!1},l.checkIfDisabled=function(e){return!l.props.childrenProps.selectedMap&&0!==e},l.getTabClassName=function(e){var t=l.checkIfDisabled(e);return(0,f.default)({disabled:t,active:0===e,"nav-item":!0,"flex-element":!0})},l.handleHideModal=function(){var e=l.state.showModal;l.setState({showModal:!e})},l.getContentClassName=function(e){return(0,f.default)({active:0===e,"tab-pane fade in":!0})},s=a,(0,o.default)(l,s)}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.childrenProps,t=this.state.showModal;return d.default.createElement("div",{className:"base"},d.default.createElement(g,{handleHideModal:this.handleHideModal}),d.default.createElement(m,{validate:e.validate,saving:e.saving,urls:e.urls,save:e.save,selectedMap:e.selectedMap,instanceId:e.instanceId}),d.default.createElement("div",{className:"row content"},d.default.createElement(h,{childrenProps:e,checkIfDisabled:this.checkIfDisabled,getContentClassName:this.getContentClassName,getTabClassName:this.getTabClassName})),t&&d.default.createElement(i.default,{handleHideModal:this.handleHideModal}))}}]),t}(d.default.Component);t.default=v,v.propTypes={childrenProps:c.default.object.isRequired}},oU8P:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectOptions=t.checkImageSrc=t.checkURL=t.getPropertyFromConfig=void 0;var n,r=a("bM/q"),l=(n=r)&&n.__esModule?n:{default:n};t.getPropertyFromConfig=function(e,t,a){var n=e&&void 0!==e[t]?e[t]:a;return e&&e.config&&void 0!==e.config[t]?e.config[t]:n},t.checkURL=function(e){return"string"==typeof e&&(0,l.default)(e)},t.checkImageSrc=function(e,t,a){var n=new Image;n.onload=t,n.onerror=a,n.src=e},t.getSelectOptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=[];return e&&e.length>0&&(n=e.map(function(e){return t?{value:e[t],label:e[a||t]}:{value:e,label:e}})),n}},"qI+P":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=m(a("m1cH")),r=m(a("Yz+Y")),l=m(a("iCc5")),o=m(a("V7oC")),s=m(a("FYw3")),u=m(a("mRg0"));a("W8A/");var i=m(a("XImL")),c=m(a("17x9")),d=m(a("q1tI")),f=m(a("TSYQ")),p=a("oU8P");function m(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function a(t){(0,l.default)(this,a);var n=(0,s.default)(this,(a.__proto__||(0,r.default)(a)).call(this,t));return g.call(n),n.state={bookmarks:n.getFormValue(n.props),map:i.default.getMap(),showMap:!1},e.map=n.state.map,n}return(0,u.default)(a,t),(0,o.default)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.config,n=t.instanceId;a&&!n&&this.setState({bookmarks:this.getFormValue(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showMap,n=t.bookmarks;return d.default.createElement("div",null,d.default.createElement("h3",null,"Bookmarks"),d.default.createElement("div",{id:"map",ref:function(t){return e.mapDiv=t},className:(0,f.default)("bookmarks-map",{hidden:!a})}),d.default.createElement("hr",null),d.default.createElement("div",{className:"bookmark-item"},d.default.createElement("button",{onClick:this.showMap,className:"btn btn-primary"},(a?"Hide":"Show")+" Map"),a&&d.default.createElement("button",{onClick:this.addBookmark,className:"btn btn-primary"},"add Bookmark")),n.map(function(t,a){return d.default.createElement("div",{key:a,className:"bookmark-item"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"name"+a},"Name: "),d.default.createElement("input",{onChange:e.onChange(a),type:"text",className:"form-control",value:t.name,id:"name"+a})),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"description"+a},"Description: "),d.default.createElement("input",{onChange:e.onDescriptionChange(a),type:"text",className:"form-control",value:t.description,id:"description"+a})),d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:"extent"+a},"Extent: "),d.default.createElement("input",{disabled:!0,type:"text",className:"form-control",value:t.extent,id:"extent"+a})),d.default.createElement("div",null,d.default.createElement("button",{onClick:function(){return e.removeBookmark(a)},className:"btn btn-danger"},"Remove")))}))}}]),a}(d.default.Component),g=function(){var e=this;this.getComponentValue=function(){return{bookmarks:e.state.bookmarks}},this.getFormValue=function(e){var t=e.config;return(0,p.getPropertyFromConfig)(t,"bookmarks",[])},this.componentDidMount=function(){e.state.map.setTarget(e.mapDiv)},this.showMap=function(){e.setState({showMap:!e.state.showMap},function(){e.state.map.updateSize(),e.state.map.render()})},this.addBookmark=function(){var t=e.state,a=t.bookmarks,r=t.map,l=[];l.push({name:"New Bookmark",extent:r.getView().calculateExtent().join("/")});var o=[].concat((0,n.default)(a),l);e.setState({bookmarks:o})},this.onChange=function(t){return function(a){var r=e.state.bookmarks,l=[].concat((0,n.default)(r)),o=l[t];o.name=a.target.value,l.splice(t,1,o),e.setState({bookmarks:l})}},this.onDescriptionChange=function(t){return function(a){var r=e.state.bookmarks,l=[].concat((0,n.default)(r)),o=l[t];o.description=a.target.value,l.splice(t,1,o),e.setState({bookmarks:l})}},this.removeBookmark=function(t){var a=e.state.bookmarks,r=[].concat((0,n.default)(a));r.splice(t,1),e.setState({bookmarks:r})}};t.default=h,h.propTypes={config:c.default.object,instanceId:c.default.number}}).call(this,a("yLpj"))},rmQC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapCard=void 0;var n=s(a("zWwt")),r=s(a("17x9")),l=s(a("q1tI")),o=s(a("1z8J"));function s(e){return e&&e.__esModule?e:{default:e}}(t.MapCard=function(e){var t=e.selectMap,a=e.map,r=e.selectedMap,s=e.urls;return l.default.createElement("div",{onClick:function(){return t(a)},key:a.id,className:r&&r.id===a.id?"row row-fix resource-box bg-success":"row row-fix resource-box"},l.default.createElement("div",{className:"col-xs-12 col-sm-4 col-md-4 col-lg-4 resource-box-img-container"},l.default.createElement(n.default,{className:"resource-box-img",src:[a.thumbnail_url,s.noImage],loader:l.default.createElement(o.default,{name:"line-scale-pulse-out",color:"steelblue"})})),l.default.createElement("div",{className:"col-xs-12 col-sm-8 col-md-8 col-lg-8 resource-box-text title-wrap"},l.default.createElement("h4",{className:"title-wrap"},a.title),l.default.createElement("p",{className:"title-wrap"},a.abstract),l.default.createElement("small",null,"owner: ",a.owner__username),l.default.createElement("br",null),l.default.createElement("a",{type:"button",href:s.mapDetails(a.id),target:"_blank",className:"btn btn-primary map-details-button"},"Details")))}).propTypes={selectMap:r.default.func.isRequired,map:r.default.object.isRequired,selectedMap:r.default.object,urls:r.default.object.isRequired}},w9Vz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a("Yz+Y")),r=d(a("iCc5")),l=d(a("V7oC")),o=d(a("FYw3")),s=d(a("mRg0")),u=a("q1tI"),i=d(u),c=d(a("17x9"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){$(this.modal).modal("show"),$(this.modal).on("hidden.bs.modal",this.props.handleHideModal)}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{ref:function(t){return e.modal=t},className:"modal fade",tabIndex:"-1",role:"dialog"},i.default.createElement("div",{className:"modal-dialog",role:"document"},i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",{className:"modal-header"},i.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},i.default.createElement("span",{"aria-hidden":"true"},"×")),i.default.createElement("h4",{className:"modal-title"},"Cartoview BasicViewer")),i.default.createElement("div",{className:"modal-body"},i.default.createElement("p",null,"General purpose map viewer with only the essential compoonents for navigation and display. Optimized for mobile. Using Openlayers 3 and Boundless SDK")),i.default.createElement("div",{className:"modal-footer"},i.default.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close")))))}}]),t}(u.Component);t.default=f,f.propTypes={handleHideModal:c.default.func.isRequired}}})});
//# sourceMappingURL=/static/cartoview_basic_viewer/dist/sourcemaps/../config.bundle.js.map
//# sourceMappingURL=config.bundle.js.map